# 常用内置指令

所谓的指令( directive ), 就是额外需要执行代码的标记. 
ng 中我们已经接触过的指令有: `ng-app`, `ng-init`, `ng-model`, `ng-bind`, `ng-show`, `ng-click` 等.

指令就是额外需要执行的标记, 例如 `ng-app` 一写, 就会使 ng 将该标签以及其所有子标签作为维护的标签, 
同时背后就会创建一个维护的对象. 

再如, `ng-init` 表示初始化, 凡是在该指令中写的赋值逻辑, 都会在背后的对象中初始化对应的属性.

又如 `ng-model`, 凡是出现在其中的标识符, 都会在背后提供对应属性. 同时 ng 会自动帮助我们添加事件与监听的方法. 
只要一侧数据发生变化就会触发同步.

...

综上所述, 凡是写到指令的地方, 就是在该范围内需要额外的执行逻辑. 

在 ng 中还有很多的指令. ng 中指令有四种形式:

- 以属性的形式存在. 前面接触的指令均是如此.
- 以标签的形式存在. 例如 `ng-view` 等, 后面会陆续说明.
- 以 class 的形式存在. 这个相对使用较少.
- 以注释的形式存在. 这个我们自己使用的较少.

接下来我们一一举例说明常用的指令( **该部分只会介绍该阶段可以使用的指令, 部分指令还需要后续内容支撑** ).

可以参考[文档](https://docs.angularjs.org)中的 directive 部分 


## 控制指令

这里我们介绍 `ngIf` 和 `ngRepeat` 指令的用法.

> 注意: 在 ng 中, 所有的指令描述都采用 骆驼命名规则. 但是在 html 中使用的时候, 均采用 连字符 连接的小写字符形式.


### ngIf 指令

该指令语法:

```html
<tag ng-if="表达式">...</tag>
```

其含义为, 如果 `ng-if` 中绑定的数据, 表达式的值如果为 `true`, 则表示该标签会呈现在 DOM 结构中.
若该表达式的值为 `false`, 则该标签就不会出现在 DOM 树中. 注意不是隐藏, 是根本就不会出现在 DOM 结构中.

看下面代码:

```html
<body ng-app>
    <div ng-if="exist">
        测试数据
    </div>
</body>
```

运行查看代码的 DOM 结构:

![](./imgs/2018-02-01_153849.png)


简单分析:
- 页面加载运行, 由于 `ng-app` 后面没有提供任何名字. 因此 我们不用编写任何代码, ng 会自动维护一个背后的对象.
- 由于标签中没有提供 `ng-init` 指令, 所以在背后对象中, 没任何成员.
- 而标签中的 `ng-if` 指令中使用了 表达式 `exist`, 而背后的对象中又没有该属性, 即表达式的值为 `undefined`
- 因此 `ng-if` 表达式的值为 `false`, DOM 结构中不会提供该节点.

如果在代码中加上下面代码结果会怎样呢? 请自行分析运行的原理.

```html
...
<body ng-app ng-init="exist=1">
...
```


### ngRepeat 指令



## 事件相关指令





